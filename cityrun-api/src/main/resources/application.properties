# 'cityrun-api' (Spring Boot) 서버의 핵심 설정 파일 (포트, DB, Redis, API 키 등)

# --- 서버 포트 설정 ---
# cityrun-api (Spring Boot) 애플리케이션 실행 포트 (8080)
# Nginx 프록시가 이 8080 포트로 요청을 전달
server.port=8080

# --- MySQL 데이터베이스 연결 설정 (JPA/Datasource) ---
# 'cityrun-db': 도커 컴포즈(docker-compose)에 정의된 DB 서비스 이름
spring.datasource.url=jdbc:mysql://cityrun-db:3306/cityrun?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul
# cityrun-db 컨테이너 접속 사용자 이름
spring.datasource.username=cjh
# cityrun-db 컨테이너 접속 비밀번호
spring.datasource.password=2323
# MySQL 8+ 버전용 JDBC 드라이버 클래스
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# --- JPA 및 Hibernate 설정 ---
# ddl-auto=none : 애플리케이션 실행 시 DB 스키마(테이블) 자동 변경/생성 비활성화
# (init.sql로 스키마를 관리하므로 'none' 권장)
spring.jpa.hibernate.ddl-auto=none
# 사용할 데이터베이스 방언(Dialect) 지정 (MySQL 8)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
# JPA 실행 SQL 쿼리를 콘솔 로그에 출력 (디버깅용)
spring.jpa.show-sql=true
# 콘솔 출력 SQL 쿼리 포맷팅 (가독성 향상)
spring.jpa.properties.hibernate.format_sql=true
# OSIV(Open Session In View) 비활성화 (성능 및 안정성 권장)
spring.jpa.open-in-view=false

# --- Redis 연결 설정 (Spring Data Redis & Spring Session) ---
# 'cityrun-redis': 도커 컴포즈에 정의된 Redis 서비스 이름
# (과제 '세션 공유 서버' 요건)
spring.data.redis.host=cityrun-redis
# cityrun-redis 컨테이너 접속 포트
spring.data.redis.port=6379

# --- JSON 설정 ---
# API 응답 JSON 포맷팅 (디버깅 시 가독성 향상)
spring.jackson.serialization.indent_output=true

# --- Naver API 클라이언트 설정 (NaverPlaceSearchService) ---
# Naver 장소 검색 API Client ID
naver.search.client-id=0VeBJho2k00RhID_wq1S
# Naver 장소 검색 API Client Secret
naver.search.client-secret=0zTs9y9jK6